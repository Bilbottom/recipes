\RequirePackage{marvosym,fontspec,titlesec,charter,enumitem,hyperref}
\RequirePackage{xcolor,graphicx}
\RequirePackage[margin=0.8in]{geometry}
\definecolor{linkcolour}{rgb}{0,0.2,0.6}
\hypersetup{colorlinks,breaklinks,urlcolor=linkcolour,linkcolor=linkcolour}


%----------Page Setup----------%
\RequirePackage{fancyhdr}\pagestyle{fancy}
  \renewcommand{\headrulewidth}{0pt}%  Default header rule
  \renewcommand{\footrulewidth}{0pt}%  No footer rule
  \fancyhf{}%  Clear header/footer
\fancypagestyle{plain}{
  \renewcommand{\headrulewidth}{0pt}%  No header rule
  \renewcommand{\footrulewidth}{0pt}%  Default footer rule
  \fancyhf{}%  Clear header/footer
}
\AtBeginDocument{\thispagestyle{plain}}

\setlength{\parindent}{0pt}
\setlength{\parskip}{.5\baselineskip plus 1pt minus 1pt}
\setlength{\headheight}{0pt}


%----------Fonts----------%
\defaultfontfeatures{Mapping=tex-text}
\setmainfont[
    Path = ../fonts/,
    SmallCapsFont = Fontin-SmallCaps.otf,
    BoldFont = Fontin-Bold.otf,
    ItalicFont = Fontin-Italic.otf
]
% A font by Jos Buivenga (exljbris) -> www.exljbris.com
{Fontin.otf}


%----------Commands----------%
\RequirePackage{wasysym} %  https://tex.stackexchange.com/questions/85335/how-to-change-dot-spacing-in-dotfill

\newcommand{\blue}[1]{\textcolor{blue!70!white}{#1}}
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\green}[1]{\textcolor{green!70!black}{#1}}

\newcommand{\degrees}{\(^{\circ}\)}
\newcommand{\tick}{\dotfill\(\ocircle\)}
\newcommand{\pfrac}[2]{\ensuremath{^{#1}\!/\!_{#2}}}

\newcommand{\ingredient}[2]{#1\if\relax\detokenize{#2}\relax\else, \red{#2}\fi\tick}

\newcommand{\recipename}{}
\newcommand{\recipecreator}{}
\newcommand{\recipeservings}{}
\newcommand{\preptime}{}
\newcommand{\cooktime}{}


%----------Title----------%

\newcommand{\recipecreatorandservings}{
    \if\relax\recipecreator\relax
        \if\relax\recipeservings\relax
            \relax
        \else%
            \green{\recipeservings}
        \fi
    \else
        \if\relax\recipeservings\relax
            \recipecreator
        \else
            \recipecreator, \green{\recipeservings}
        \fi
    \fi
}

\newcommand{\recipetitle}{
    {\LARGE\blue{\recipename}\hfill\normalsize\recipecreatorandservings}\par%
    \vspace{-\baselineskip}\hrulefill\par%
    \vspace{-0.5\baselineskip}\hfill{\footnotesize Prep \green{\preptime}, Cook \green{\cooktime}}\par%
}
